{"id":719091039,"lang":"cpp","time":"5 days, 15 hours","timestamp":1654887221,"status_display":"Accepted","runtime":"94 ms","url":"/submissions/detail/719091039/","is_pending":"Not Pending","title":"Number of Ways to Arrive at Destination","memory":"33.6 MB","code":"class Solution {\npublic:\n    #define ll long long\n    int countPaths(int n, vector<vector<int>>& roads) {\n        vector<pair<ll , ll>> g[n];\n        int mod = 1e9 + 7;\n        for(int i = 0; i < roads.size(); i++){\n            int u = roads[i][0], v = roads[i][1], w = roads[i][2];\n            g[u].push_back({v, w});\n            g[v].push_back({u, w});\n        }\n        long long dist[n];\n        map<pair<ll, ll>, ll> M;\n        function <void(int, int)> dijkstra = [&] (int source, int idx){\n            for(int i = 0; i < n; i++)dist[i] = 1e14;\n            priority_queue<pair<ll, ll>,vector<pair<ll, ll>>, greater<pair<ll, ll>> >pq;\n            pq.push({0, source}); M[{source, 0}] = 1;\n            dist[source] = 0;\n            while(!pq.empty()){\n                auto u = pq.top();\n                pq.pop();\n                if(u.first != dist[u.second])continue;\n                for(auto v: g[u.second]){\n                    if(u.first + v.second < dist[v.first]){\n                        dist[v.first] = u.first + v.second;\n                        pq.push({dist[v.first], v.first});\n                        M[{v.first, dist[v.first]}] = (M[{v.first, dist[v.first]}] + M[{u.second, u.first}]) % mod;\n                    }\n                    else if(u.first + v.second == dist[v.first]){\n                        M[{v.first ,dist[v.first]}] = (M[{v.first ,dist[v.first]}] + M[{u.second, u.first}]) % mod;\n                    }\n                    \n                }\n            }\n        };\n        \n        dijkstra(0, 0);\n        ll totcost = dist[n - 1];\n        return M[{n - 1, totcost}];\n        \n        \n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111","title_slug":"number-of-ways-to-arrive-at-destination"}