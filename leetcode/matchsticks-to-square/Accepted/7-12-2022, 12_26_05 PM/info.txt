{"id":744935113,"lang":"cpp","time":"4Â weeks","timestamp":1657607165,"status_display":"Accepted","runtime":"105 ms","url":"/submissions/detail/744935113/","is_pending":"Not Pending","title":"Matchsticks to Square","memory":"10.1 MB","code":"class Solution {\npublic:\n    bool makesquare(vector<int>& a) {\n        int n = a.size();\n        int tot = 0;\n        for (auto x : a) tot += x;\n        if (tot%4) return false; // the total sum of lengths should be divisible by 4\n        \n        for (int m=0; m<(1<<(n-1)); m++) {\n            int part = 0;\n            for (int i=0; i<n; i++) {\n                if ((m>>i)&1) part += a[i];\n            }\n            if (part != tot/2) continue;  // we first check if the matches can be divided into two partitions with equal sums.\n            \n            bool b1 = false;\n            bool b2 = false;\n            \n            for (int s=m; s>0; s=(s-1)&m) {  // submask enumeration\n                int part = 0;\n                for (int i=0; i<n; i++) {\n                    if ((s>>i)&1) part += a[i];\n                }\n                if (part == tot/4) {\n\t\t\t\t\tb1 = true;  // we found a submask, sum of which is tot / 4\n\t\t\t\t\tbreak;\n\t\t\t\t}\n            }\n            int m2 = m^((1<<n)-1);  // m2 is a 'flip' of mask m\n            for (int s=m2; s>0; s=(s-1)&m2) {  // second submask enumeration\n                int part = 0;\n                for (int i=0; i<n; i++) {\n                    if ((s>>i)&1) part += a[i];\n                }\n                if (part == tot/4) {\n\t\t\t\t\tb2 = true; // we found another submask, sum of which is tot / 4\n\t\t\t\t\tbreak;\n\t\t\t\t}\n            }\n            if (b1&&b2) return true;  // we found the desired partition :)\n        }        \n        \n        return false; // we failed to find the desired partition :(\n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"matchsticks-to-square"}