{"id":719771808,"lang":"cpp","time":"1 month, 4 weeks","timestamp":1654964679,"status_display":"Accepted","runtime":"17 ms","url":"/submissions/detail/719771808/","is_pending":"Not Pending","title":"Maximum Product Subarray","memory":"13.8 MB","code":"class Solution {\npublic:\n    int maxProduct(vector<int>& nums) {\n        int l, r;\n        l = 0, r = 0;\n        int mul = 1, smul, Max = INT_MIN;\n        for(int i = 0; i < nums.size(); i++){\n            Max = max(Max, nums[i]);\n        }\n        nums.push_back(0);\n        for(int i = 0; i < nums.size(); i++){\n            if(nums[i] == 0 and (i - l) > 1){\n                cout << i << endl;\n                if(mul < 0){\n                    smul = 1; r = i - 1;\n                    while(r >= l and nums[r] >= 0){\n                        smul *= nums[r--];\n                    }\n                    smul *= nums[r];\n                    //cout << nums[r] << endl;\n                    if(r - l > 1)Max = max(Max, mul / smul);\n                    smul = 1;\n                    while(l <= i and nums[l] >= 0){\n                        smul *= nums[l++];\n                    }\n                    smul *= nums[l];\n                    //cout << nums[l] << endl;\n                    if(i - l > 1)Max = max(Max, mul / smul);\n                }\n                if(mul >= 1 and (i - l) > 1)Max = max(mul, Max);\n                \n            }\n            else mul *= nums[i];\n            if(nums[i] == 0){\n                l = i + 1;\n                mul = 1;\n            }\n        }\n        return Max;\n        \n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"maximum-product-subarray"}