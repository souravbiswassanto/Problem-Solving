{"id":748795280,"lang":"cpp","time":"3 weeks, 2 days","timestamp":1658000408,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/748795280/","is_pending":"Not Pending","title":"Number of Ways to Separate Numbers","memory":"N/A","code":"class Solution {\npublic:\n    vector<int>z_function(string s){\n    int n = (int) s.length();\n    vector < int > Z(n);\n    Z[0] = 0; \n    for (int i = 1, L = 0, R = 0; i < n; ++i)\n    {\n        if (i <= R) \n            Z[i] = min (R - i + 1, Z[i - L]); \n        else\n            Z[i] = 0; \n        while (i + Z[i] < n && s[Z[i]] == s[i + Z[i]]) \n            ++Z[i]; \n        if (i + Z[i] - 1 > R) \n            L = i, R = i + Z[i] - 1;\n    }\n        return Z;\n}\n    \n    int dp[3504][3504], match[3504][3504];\n    int n, mod = 1e9 + 7; string num;\n    int calc  (int idx, int last){\n            //cout << idx <<\" \" << last << endl;\n            if(idx > n)return 0;\n            if(idx == n)return 1;\n            int &ret = dp[idx][last];\n            if(ret != -1)return ret;\n            ret = 0;\n            int start = (match[idx][last] == 1)?last: last + 1;\n            if(num[idx] =='0')return 0;\n            for(int i = start; i <= n; i++){\n                if(idx + i > n)break;\n                ret = (ret + calc(idx + i, i)) % mod;\n            }\n            return ret;\n        };\n    \n    int numberOfCombinations(string num) {\n        //cout << 1 << endl;\n        n = num.size();\n        \n        int mod = 1e9 + 7;\n        //cout << 1 << endl;\n        this->num = num;\n        for(int i = 0; i < n; i++){\n            string s = \"\";\n            for(int j = i; j < n; j++)s += num[j];\n            s += '#';\n            s += num;\n            vector<int> Z = z_function(s);\n            for(int j = 1; j < n; j++){\n                if(i + j >= n)break;\n                match[i][i + j] = Z[n + j + 1];\n                //cout << i <<\" \" << i + j << \" \" << match[i][i + j] << endl;\n            }\n        }\n        \n        for(int i = 0; i < n; i++){\n            for(int j = 1; j < n; j++){\n                if(i + j > n)break;\n                if(i - j < 0)break;\n                \n                int a = match[i - j][i];\n                if(a >= j or num[i - j + a] <= num[i + a]){\n                    match[i][j] = 1;\n                }\n                else match[i][j] = 0;\n            }\n        }\n        \n        int ans = calc(0, 0);\n        return ans;\n    }\n};","compare_result":"01100001101100000010010001000000000000000000000001000010000001100010000000000000001000100001000000000000000000000000000000000000000001001000001000000000000001100001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"number-of-ways-to-separate-numbers"}